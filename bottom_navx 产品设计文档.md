# bottom_navx 产品设计文档

## 一、产品概述

`bottom_navx` 是一个轻量级的底部导航组件，旨在替代官方 `BottomNavigationBar` + `IndexedStack` 方案，提供更灵活、可扩展的页面管理能力，并支持高度自定义样式。

## 二、设计目标

- 简洁易用的底部导航切换能力
- 提供页面状态保持机制
- 支持自定义 tab 样式、动画、徽标等扩展
- 具备良好的跨平台兼容性（iOS/Android）
- 可作为基础组件在项目底层库中复用

## 三、核心能力

| 能力项               | 说明 |
|----------------------|------|
| 页面切换             | 支持点击导航项切换页面，默认使用 IndexedStack 保持状态 |
| 页面状态保持         | 页面不销毁，支持 StatefulWidget 内部逻辑保存 |
| 自定义导航栏         | 提供 builder 模式，开发者可自由渲染 tab item 内容 |
| 导航项支持图标/文字   | 默认支持 icon + title，可自定义内容布局 |
| 支持懒加载 / 全加载   | 可配置子页面加载策略，优化内存使用 |
| 支持动画与视觉交互   | 支持渐变、缩放、点击反馈等效果 |
| 与主流框架兼容       | 可扩展接入 flutter_boost、go_router 等 |

## 四、典型使用场景

1. App 主框架底部导航（如：首页 / 消息 / 我的）
2. 嵌套于 tab 页中的独立模块导航
3. 需要定制化外观的场景，如游戏类、内容类 App

## 五、目标用户群体

- App UI 框架开发者
- 业务方页面集成者
- 跨端项目中需要底部导航能力的开发团队

## 六、设计优势对比

| 能力对比        | bottom_navx | Flutter 官方 BottomNav | third_party: persistent_bottom_nav_bar |
|----------------|-------------|--------------------------|----------------------------------------|
| 状态保持       | ✅ IndexedStack | ⚠️ 需手动封装 IndexedStack | ✅ 支持独立路由栈                     |
| 自定义样式     | ✅ 强         | ⚠️ icon + title 限制      | ✅ 支持                                 |
| 懒加载/全加载  | ✅ 可配置     | ⚠️ 默认全加载              | ✅ 支持                                 |
| 嵌套能力       | ✅ 可拓展     | ⚠️ 支持有限                | ✅ 支持                                 |
| 混合栈支持     | ✅ 可接入     | ❌ 不支持                  | ❌ 不推荐接入                          |
| 使用门槛       | 👍 低         | 👍 低                      | ⚠️ 较高                                |

## 七、版本规划

| 版本号 | 特性说明                       | 状态 |
|--------|--------------------------------|------|
| v1.0.0 | 基础导航 / IndexedStack 切换     | ⏳ 待开发 |
| v1.1.0 | 自定义 tab 样式、builder 支持   | ⏳ 待开发 |
| v1.2.0 | 独立子导航栈、懒加载机制         | ⏳ 待开发 |
| v2.0.0 | 与 `flutter_tabx` 联动、双向绑定 | 🔄 规划中 |